<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="author" content="刘昱" />
		<title>刘昱 | windows下的jekyll编码问题 </title>
		<link rel="shortcut icon" href="/media/images/siteimg/favicon.ico">
		<link href="http://192.168.1.197:4000/feed/" rel="alternate" title="刘昱" type="application/atom+xml" />
		<link rel="stylesheet" href="/media/css/style.css" type="text/css" />
		<link rel="stylesheet" href="/media/script/prettify/prettify.css" type="text/css" />
		<script type="text/javascript" src="/media/script/prettify/prettify.js"></script> 
		<script type="text/javascript" src="/media/script/jquery-1.7.2.min.js"></script>
		<!--[if IE]>
		<script type="text/javascript" src="/media/script/html5shiv.js"></script> 
		<![endif]-->		
		<script type="text/javascript" src="/media/script/default.js"></script>
	</head>
	<body>

		<div id="container">
			<header>
			<a href="http://en.wikipedia.org/wiki/Chicago_Pile-1"><img id="siteimage" src="/media/images/siteimg/Chicago_Pile.jpg" title="Chicago Pile 1" alt="Chicago Pile 1" /></a>
			<h1>刘 昱</h1>
			<h2>核能动力系统设计工程师</h2>
			</header>
			<nav>
			<span><a title="首页" class="" href="http://192.168.1.197:4000/">主页</a></span>
			<span><a title="简历" class="" href="http://192.168.1.197:4000/vitae/">简历</a></span>
			<span><a title="文章" class="" href="http://192.168.1.197:4000/publication/">文章</a></span>
			<span><a title="关于" class="" href="http://192.168.1.197:4000/about/">关于</a></span>
			<span><a title="留言" class="" href="http://192.168.1.197:4000/guestbook/">留言</a></span>
			<span><a title="链接" class="" href="http://192.168.1.197:4000/links/">链接</a></span>
			<span><a title="杂货铺" class="" href="http://192.168.1.197:4000/essay">杂货铺</a></span>
			</nav>
			<div id="main" role="main">
				<article class="content">
				<section class="title">
        <h1>windows下的jekyll编码问题</h1>
</section>
<section class="post">
<p>为了便于调试等各种原因，本地的windows系统上安装了jekyll。
由于windows系统没有采用UTF-8编码，因此需要给jekyll（版本 0.11.2）在打开文件时指定编码，以保证它能够正常工作。</p>

<ol>
<li><p>修改<code>[RubyDIR]\lib\ruby\gems\1.9.1\gems\jekyll-0.11.2\lib\jekyll\convertible.rb</code> 文件27行</p>

<pre><code> self.content = File.read(File.join(base, name))
 self.content = File.read(File.join(base, name),:encoding=&gt;"utf-8")
</code></pre></li>
<li><p>修改<code>[RubyDIR]\lib\ruby\gems\1.9.1\gems\jekyll-0.11.2\lib\jekyll\tags\include.rb</code> 文件23行</p>

<pre><code> source = File.read(@file)
 source = File.read(@file, :encoding =&gt; "utf-8")
</code></pre></li>
</ol>


</section>
<section class="meta">
<span class="author">
	<a href="http://192.168.1.197:4000">刘昱</a>
</span>
<span class="time">
  /
  <time datetime="2012-07-04">2012-07-04</time>
</span>
<br />
<span class="license">
  Published under <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">(CC) BY-NC-SA</a>
</span>

<span class="categories">
  in categories
  
  <a href="http://192.168.1.197:4000/categories/#计算机" title="计算机">计算机</a>&nbsp;
  
</span>


<span class="tags">
  tagged with 
  
  <a href="http://192.168.1.197:4000/tags/#vim" title="vim">vim</a>&nbsp;
  
  <a href="http://192.168.1.197:4000/tags/#插件" title="插件">插件</a>&nbsp;
  
</span>

</section>

	<section class="comment">
<a href="#" id="show_disqus_comment" onclick="return false;">更多信息，请点击查看评论</a>
<div id="disqus_thread"></div>
</section>
<script type="text/javascript">
$(function(){
		$('section.comment #show_disqus_comment').on('click',function(){
			$(this).html('评论加载中<image src="/media/images/siteimg/loading.gif" class="loader-img" />');
			var disqus_shortname = 'yuliu'; // required: replace example with your forum shortname
			var disqus_url = 'http://192.168.1.197:4000/2012/07/jekyll_encoding_in_windows/';
			// var disqus_developer = 1; 
			var that = this;
			// var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
			var src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
			PSJS.loadScript(src, function(){$(that).remove()});
			});
		});
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>



<script type="text/javascript">
$(function(){
  $(document).keydown(function(e) {
    var url = false;
        if (e.which == 37 || e.which == 74) {  // Left arrow and J
            
        url = 'http://192.168.1.197:4000/2012/06/vim_and_related/';
        
        }
        else if (e.which == 39 || e.which == 75) {  // Right arrow and K
            
        }
        if (url) {
            window.location = url;
        }
  });
})
</script>


				</article>
				<div id="toc"></div>
			</div>
		</div>
	</body>
</html>
