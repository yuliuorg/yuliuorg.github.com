<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="author" content="刘昱" />
		
		<title>刘昱 | 零起点VPS建站-1 </title>
		
		<link rel="shortcut icon" href="/media/images/siteimg/favicon.ico">
		<link href="http://yuliu.org/feed/" rel="alternate" title="刘昱" type="application/atom+xml" />
		<link rel="stylesheet" href="/media/css/style.css" type="text/css" />
		<link rel="stylesheet" href="/media/script/prettify/prettify.css" type="text/css" />
		<script type="text/javascript" src="/media/script/prettify/prettify.js"></script> 
		<script type="text/javascript" src="/media/script/jquery-1.7.2.min.js"></script>
		<!--[if IE]>
		<script type="text/javascript" src="/media/script/html5shiv.js"></script> 
		<![endif]-->		
		<script type="text/javascript" src="/media/script/default.js"></script>
		<script type="text/javascript">
			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-33277878-1']);
			_gaq.push(['_setDomainName', 'yuliu.org']);
			_gaq.push(['_trackPageview']);
			_gaq.push(['_trackPageLoadTime']);
			(function() {
				var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
				ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();
		</script>
	</head>
	<body>

		<div id="container">
			<header>
			<a href="http://en.wikipedia.org/wiki/Chicago_Pile-1"><img id="siteimage" src="/media/images/siteimg/Chicago_Pile.jpg" title="Chicago Pile 1" alt="Chicago Pile 1" /></a>
			<h1>刘 昱</h1>
			<h2>核能动力系统设计工程师</h2>
			</header>
			<nav>
			<span><a title="首页" class="" href="http://yuliu.org/">主页</a></span>
			<span><a title="简历" class="" href="http://yuliu.org/vitae/">简历</a></span>
			<span><a title="文章" class="" href="http://yuliu.org/publication/">文章</a></span>
			<span><a title="关于" class="" href="http://yuliu.org/about/">关于</a></span>
			<span><a title="留言" class="" href="http://yuliu.org/guestbook/">留言</a></span>
			<span><a title="链接" class="" href="http://yuliu.org/link/">链接</a></span>
			<span><a title="杂货铺" class="" href="http://yuliu.org/essay">杂货铺</a></span>
			</nav>
			<div id="main" role="main">
				<article class="content">
				<section class="title">
<h1>零起点VPS建站-1</h1>
</section>
<section class="post">
<p>原来也建过网站，但是大部分都是在自己的电脑上，在VPS上建站还真是0起点~</p>

<p>开始还以为会遇到很多困难，后来发现现在各种牛人太多，VPS建站基本上已经全自动化了。</p>

<h1>1. 域名和VPS</h1>

<p>VPS建站的第一步自然是购买VPS咯，现在销售VPS的人很多，淘宝上面也是一抓一大把，但是为了保证质量保证速度，建议直接购买国外VPS，为了照顾中国用户，现在很多VPS销售商已经支持支付宝了~~</p>

<p>无责任推荐几个VPS：linode，diahosting，vpsyou。注意第一个只支持信用卡绑定</p>

<p>域名是可选项，但是我想建站的一般都不会省这个吧，我一般买这个都在godaddy，现在也可以用支付宝了。</p>

<p>买了vps以后，会得到一个IP地址，这样去godaddy域名控制面板里面将 域名（如XXXX.com 不带www） 指向这个IP地址即可。域名面板里面还可以管理多个二级域名，例如blog@域名，bbs@域名，可以指向不同的VPS，自然也可以都指向刚刚购买的VPS IP。让后再VPS建虚拟主机，将blog@域名指向wordpress，bbs@域名指向discuz。www@域名也可以看做是你购买域名的二级域名，只是这个一般和域名指向同一个链接罢了。</p>

<h1>2. VPS安装</h1>

<p>由于linux VPS比较便宜而且用得比较多，这里以linux系统为例，而其中VPS用得最多的发行版是centos 5.5。我也不例外买的这种。</p>

<p>购买VPS以后，将得到IP地址，SSH密码，SSH用户名。接着你就需要使用一个叫做<a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/">putty</a> 的工具登陆你的VPS主机了。打开putty，输入地址后open，接着在窗口输入用户名和密码即可登陆。</p>

<p>前面说到VPS建站基本上是半自动化的，就在于一些牛人已经将网站服务器+数据库都已经打包好了，例如我们这里使用的这个<a href="http://lnmp.org/index.html">lnmp</a>，是一个用Linux Shell编写的可以为CentOS/RadHat、Debian/Ubuntu VPS(VDS)或独立主机安装LNMP(Nginx、MySQL、PHP、phpMyAdmin)生产环境的Shell程序。一键安装方法在lnmp官网中有说明，我这里直接copy了</p>

<blockquote><p>1、下载LNMP一键安装包： 可以选择使用下载版(推荐国外或者美国VPS使用)或者完整版(推荐国内VPS使用)，如果使用下载版执行命令 wget -c http://soft.vpser.net/lnmp/lnmp0.6.tar.gz ，如果使用完整版，执行命令 wget -c http://soft.vpser.net/lnmp/lnmp0.6-full.tar.gz ，执行上述命令后LNMP一键安装包就会被下载到VPS上。</p>

<p>2、解压LNMP一键安装包： 执行tar zxvf lnmp0.6.tar.gz 或tar zxvf lnmp0.6-full.tar.gz 就会将LNMP一键安装包解压缩。</p>

<p>3、CentOS下安装步骤 下载版执行命令 cd lnmp0.6/ ，完整版执行命令：cd lnmp0.6-full/<br/>
然后再执行./centos.sh 也可以执行./centos.sh | tee lnmp.log (推荐这种方式,出错时可以到论坛上传lnmp.log日志)，输入要绑定的域名，回车，再输入要设置的MySQL root的密码，回车，提示"Press any key to start..."，按任意键开始安装。程序会自动安装编译Nginx、PHP、MySQL、phpMyAdmin、Zend这几个软件。</p>

<p>4、Debian下安装步骤 下载版执行命令 cd lnmp0.6/ ，完整版执行命令：cd lnmp0.6-full/</p>

<p>然后执行./debian.sh 也可以执行./debian.sh | tee lnmp.log (推荐这种方式,出错时可以到论坛上传lnmp.log日志)，输入要绑定的域名，回车，再次输入VPS/服务器所在位置：asia、america、europe、oceania或 africa，回车，再输入要设置的MySQL root的密码，回车，提示"Press any key to start..."，按任意键开始安装。程序会自动安装编译Nginx、PHP、MySQL、phpMyAdmin、Zend这几个软件。安装大约10分钟左右需要设置MySQL root用户的密码。</p>

<p>5、Ubuntu下安装步骤 下载版执行命令 cd lnmp0.6/ ，完整版执行命令：cd lnmp0.6-full/</p>

<p>6、然后执行./ubuntu.sh 也可以执行./ubuntu.sh | tee lnmp.log (推荐这种方式,出错时可以到论坛上传lnmp.log日志)，输入要绑定的域名，回车，再输入要设置的MySQL root的密码，回车，提示"Press any key to start..."，按任意键开始安装。程序会自动安装编译Nginx、PHP、MySQL、phpMyAdmin、Zend这几个软件。安装大约10分钟左右需要设置MySQL root用户的密码。</p></blockquote>

<p>简单吧~~，安装以后的相关目录：</p>

<pre><code>mysql :    /usr/local/mysql
php :      /usr/local/php
nginx :    /usr/local/nginx
网站目录:  /home/wwwroot
</code></pre>

<h1>3. 虚拟主机设置</h1>

<p>前面提到了咋们的域名、blog@域名，bbs@域名都指到了VPS的IP，那么如何让他们指向不同的地方呢~这时候就需要虚拟主机了即让不同的域名指向不同的目录。</p>

<p>首先要对一键生成的lnmp进行一点小修改，因为我们一键安装是输入的域名已经配置指向了/home/wwwroot，如果你再通过下面的方式对虚拟主机进行配置将会出现重复，自相矛盾，因此首先需要修改（编辑器 vi, nano什么的都可以）</p>

<p>/usr/local/nginx/conf/nginx.conf</p>

<p>找到</p>

<pre><code>server
{
listen       80;
server_name XXXX.com;
index index.html index.htm index.php;
root  /home/wwwroot;
</code></pre>

<p>将最后一句其修改为你所希望的目录，例如</p>

<pre><code>root  /home/wwwroot/[XXXX.com];
</code></pre>

<p>这样nginx网站服务器在解析XXXX.com的时候，便会读取/home/wwwroot/XXXX.com目录下的内容。</p>

<p>之后可以通过lnmp自带的vhost.sh添加虚拟主机咯</p>

<p>执行命令：<code>/root/vhost.sh</code></p>

<p>根据提示输入要绑定的域名，回车，如果需要添加更多的域名，输入y，再输入要另外绑定的域名，多个域名可以用空格隔开。</p>

<p>再输入域名绑定的目录(绝对目录， 如<code>/home/wwwroot/lnmp</code>，如果不填默认是/home/wwwroot/绑定的域名)，</p>

<p>再选择是否添加伪静态规则，默认已经有了 Discuz、Wordpress、Sablog、emlog、dabr，可直接输入以上名称即可，如果需要添加自定义伪静态规则，直接输入一个想要的名字，程序会自动创建伪静态文件，直接在<code>/usr/local/nginx/conf/</code>你自定义的伪静态名字.conf  里面添加伪静态规则就行。</p>

<p>接下来会提示是否需要启用日志功能，一般情况下不需要启动，直接输入n就行，如需启动，输入y，再输入要定义的日志文件名字，回车就会自动添加虚拟主机。</p>

<h1>4. 增加FTP功能</h1>

<p>这里我选择了pureftpd，为什么呢？因为有一篇很好的介绍如何在lnmp中安装它的图文教程，所以我就直接给一个链接好了。里面介绍了如何安装pureftpd，如何将它加入自动启动中等等问题。</p>

<p><a href="http://www.vpser.net/manage/lnmp-pureftpd-cp.html">lnmp之pureftpd管理面板安装教程[图文]</a></p>

<p>恩，还是很简单，先到这里。</p>

</section>
<section class="meta">
<span class="author">
	<a href="http://yuliu.org">刘昱</a>
</span>
<span class="time">
	/
	
	<time datetime="2011-03-10">2011-03-10</time> 发表
	
</span>
<br />

<span class="categories">
	分类： 
	
</span>


<span class="tags">
	标签： 
	
	<a href="http://yuliu.org/essay/tags.html#linux" title="linux">linux</a>&nbsp;
	
	<a href="http://yuliu.org/essay/tags.html#VPS" title="VPS">VPS</a>&nbsp;
	
	<a href="http://yuliu.org/essay/tags.html#建站" title="建站">建站</a>&nbsp;
	
	<a href="http://yuliu.org/essay/tags.html#电脑技术" title="电脑技术">电脑技术</a>&nbsp;
	
	<a href="http://yuliu.org/essay/tags.html#网络技术" title="网络技术">网络技术</a>&nbsp;
	
	<a href="http://yuliu.org/essay/tags.html#虚拟主机" title="虚拟主机">虚拟主机</a>&nbsp;
	
</span>

</section>

<section class="comment">
<a href="#" id="show_disqus_comment" onclick="return false;">更多信息，请点击查看评论</a>
<div id="disqus_thread"></div>
</section>
<script type="text/javascript">
$(function(){
		$('section.comment #show_disqus_comment').on('click',function(){
			$(this).html('评论加载中<image src="/media/images/siteimg/loading.gif" class="loader-img" />');
			var disqus_shortname = 'yuliu'; // required: replace example with your forum shortname
			var disqus_url = 'http://yuliu.org/2011/03/vps_hosting_from_zero_1/';
			// var disqus_developer = 1; 
			var that = this;
			// var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
			var src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
			PSJS.loadScript(src, function(){$(that).remove()});
			});
		});
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>



<script type="text/javascript">
	$(function(){
		$(document).keydown(function(e) {
			var url = false;
			if (e.which == 37 || e.which == 74) {  // Left arrow and J
				
				url = 'http://yuliu.org/2007/06/harmonized_N475/';
				
			}
			else if (e.which == 39 || e.which == 75) {  // Right arrow and K
				
				url = 'http://yuliu.org/2011/03/vps_hosting_from_zero_2/';
				
			}
			if (url) {
				window.location = url;
			}
		});
	})
</script>


				</article>
				<div id="toc"></div>
			</div>
		</div>
	</body>
</html>
