<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <link rel="stylesheet" href="css/markdown.css" type="text/css" />
</head>
<body>
<h1 id="git和github">git和github</h1>
<h2 id="git">1 git</h2>
<h2 id="github">2 github</h2>
<h3 id="配置和使用github">2.1 配置和使用github</h3>
<h3 id="github-pages">2.2 github pages</h3>
<p>github提供了github pages的服务，不仅可以方便的为项目建立介绍页面，也可以用来建立个人页面。gitHub pages分两种，一种是你的gitHub用户名建立的[username].github.com这样的User &amp; Organization Pages，另一种是依附项目的Project Pages。</p>
<h3 id="user-organization-pages">User &amp; Organization Pages</h3>
<p>首先建立一个repo，名称只能是[username].github.com。每个用户名下面只能建立一个。该repo下master分支中的内容将被用作用户&amp;组织页（站）内容。</p>
<p>创建好repo之后，commit一个index.html文件，然后push到master分支即可。如果是第一次使用页面，大概需要10分钟左右才能生效，之后的更改则会立即生效。</p>
<p>生效之后就可以访问[username].github.com，将会看到上传的index.html页面。</p>
<h3 id="project-pages">Project Pages</h3>
<p>Project Pages放在项目相同的repo中，但是使用 gh-pages分支。其默认地址为[username].github.com/[projectname]。</p>
<h3 id="yuliu.org的个人页设置">yuliu.org的个人页设置</h3>
<p>使用Markdown生成user page中的html文件，本地目录的组织结构如下</p>
<pre><code>root \[ -&gt; &quot;source&quot; \]
|- markdown files
|- html \[ -&gt; &quot;master&quot; \]</code></pre>
<p>root目录指向git repo的source分支，html目录用来指向相同repo的master分支。</p>
<p><em>实现上述结构的方法</em></p>
<p>首先在root目录初始化一个repo。（$ 为cmd提示符）</p>
<pre><code># 初始化本地repo
$ git init
# 提交文件
$ git add .
$ git commit -m &quot;init&quot;</code></pre>
<p>通过上述命令建立了一个包含所有源文件的master分支，接着重命名该分支并push到服务器（remote）</p>
<pre><code># 将本地master重命名为source
$ git branch -m master source
# 将github repo添加为origin
$ git remote add origin git@github.com:[username]/[username].github.com.git
# 将source分支push到服务器repo
$ git push -u origin source</code></pre>
<p>这样repo中只有一个分支：source，见者创建master分支。如果root目录存在html目录，先删除该html目录</p>
<pre><code># 获取一个github repo的副本到html
$ git clone git@github.com:[username]/[username].github.com.git html
$ cd html
# 建立一个独立的分支
$ git symbolic-ref HEAD refs/heads/master
$ rm .git/index
$ git clean -fdx</code></pre>
<p>现在master分支已经建立好，每当有新内容生成，只需要commit &amp; push到服务器即可</p>
<pre><code>$ git add .
$ git commit -m &quot;updated&quot;
$ git push -u origin master</code></pre>
<h3 id="自定义域名">2.3 自定义域名</h3>
<p>github page中，要想让username.github.com能通过你自己的域名来访问，需要在项目的根目录下新建一个名为CNAME的文件，文件内容为域名或者子域名名称，例如：</p>
<pre><code>gt.yuliu.org</code></pre>
<p>接着需要设置域名的DNS（这不是立即生效的），对于顶级域名需要建立一条 A记录 到 204.232.175.78。注意不是使用CNAME形式，否则可能对其他服务（例如email）造成影响。</p>
<p>对于子域名最好使用CNAME记录，指向[username].github.com</p>
</body>
</html>
